<!DOCTYPE html>
<html>
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Map Make-A-Match</title>
    <link rel="stylesheet" href="static/css/styles.css">

</head>

<body data-page-id="timed_challenge_intro">
    <img class="background-layer" src="static/assets/2striped_background.png" alt="Background Image" />

    <h2>AI-See --- Timed Kernel Math Challenge Level </h2>

    <button class="topRightButton" onclick="masterLogout()"></button>
    
    <div class="timeLevelInstructionContainer">
        <p>In this level, you will have 60 seconds to solve some incomplete kernel math puzzles. Aim for both a high accuracy and to complete many puzzles! Press start to enter the timed level!</p>
    </div>

    <button class="nextButton" id="nextButton" onclick="redirectToNextLevel()">Start</button>

    <script src="static/js/redirect.js"></script>

    <script>
        // Get the current value (or default to 0 if not set) and increment 
        let currPlayNumber = parseInt(localStorage.getItem('challenge_level_number')) || 0;
        currPlayNumber += 1;// Increment it
        localStorage.setItem('challenge_level_number', currPlayNumber); // Store the updated value back in localStorage
    </script>

    <script>
        
        window.logout = function() {
            // Save data to computer 
            saveUserDataToComputer();

            // Delay redirect slightly to let link open first
            setTimeout(() => {
                window.location.href = "index.html";
            }, 500); // delay in milliseconds
        }

        window.saveData = function() {
            // save data to computer 
            saveUserDataToComputer();

            logout();
        }
    </script>
</body>
